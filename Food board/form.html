<!doctype html>
<html lang="en">
<head>
    <meta charset="utp-8">
    <meta name="viewport"  content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
                                           
</head>


<body>
<header class = "header">
 <div class="header__logo">
  <a href="맛집게시판.html">
      <h1>맛집 게시판</h1>
  </a>
<div class = "header__gnb">
    <ul>
        <li><a href="추천.html">추천게시판</a></li>
        <li><a href="홍보.html">홍보게시판</a></li>
        <li><a href="맛집.html">맛집게시판</a></li>
    </ul>
</div>
    </div>
</header>
<body>

<h1 align="center"> 맛집게시판 </h1>
<br>
<h3 align="center"> 글작성 </h3>
 <table style="margin: 0 auto;">
  <tr>
    <th>작성자</th>
    <td><input size = "100%" type="text" id="writer" name="writer"/></td>
  </tr>
  <tr>
    <th>제목</th>
    <td><input size = "100%" type="text" id="title" name="title"/></td>
  </tr>
  <tr>
    <th>내용</th>
    <td>
      <textarea style="width:84%; border:1; overflow:visible; text-overflow:ellipsis;" rows=30 type="text" id="review" name="review"></textarea>
    </td>
  </tr>
</table>
<div style="width:100%; text-align: right;">
  <button onclick="window.history.back()">취소</button>
  <button onclick="save()">저장</button>
</div>

</body>
<script>
  function save() {
    if (!confirm('저장하시겠습니까?')) {
      return;
    }
    var contents;
      try {
        contents = JSON.parse(localStorage.getItem("contents"));
      } catch (e) {
        contents = null;
      }

    if (!contents) {
      contents = [];
    }
    var writer = document.getElementById('writer').value;
    var title = document.getElementById('title').value;
    var review = document.getElementById('review').value;
    contents.push({no:contents.length+1
      , writer:writer
      , title:title
      , review:review
      , write_date:new Date()});
    localStorage.setItem("contents", JSON.stringify(contents));
    alert('저장되었습니다.');
    location.href = 'list.html';
  }
    </script>
    </body>
</html>
